## 第一章
http/1.x,http/2,https,SSL,TLS 这些日乐购的名字真的弄到心态爆炸！！！[吃屎去吧](https://blog.csdn.net/enweitech/article/details/81781405)  

神奇的四层结构：应用层（Http协议） > (TLS/SSL)(JoJo, 我将是https哒！) > 传输层（TCP/UDP 协议） > 网络层（IP协议） > 数据链路层（以太网协议）。
- web客户端和服务端，资源请求方和提供方。client通过`URI(统一资源标识符)`来获取server上的资源。`URI`主要有两种形式`URL、URN`。    
  URL组成：scheme(多为http/https协议) + 地址(IP或域名) + 资源在服务器上的路径。  
  URN：母鸡，长这个样子👉urn:ietf:rfc:2141。
- Http
  - 方法：
    - Get：从服务器向客户端发送`命名资源`；
    - Post：将客户端数据发送到一个服务器网关应用程序；
    - Delete：从服务器中删除命名资源；
    - Put：将来自客户端的数据存储到一个命名的服务器资源中去；
    - Head：仅发送命名资源响应中的首部；
  - 报文
  - 事务（request + response）通过HTTP报文的格式化数据块进行。
- 连接
  - TCP/IP
- 缓存


## 第二章

## 三次握手与四次挥手
TCP不存在连接的概念，只存在请求和响应，请求和响应都是数据包，它们之间都是经过由TCP创建的一个从客户端发起，服务器接收的类似连接的通道，这个连接可以一直保持，http请求是在这个连接的基础上发送的；在一个TCP连接上是可以发送多个http请求的，不同的版本这个模式不一样。  

在HTTP/1.0中这个TCP连接是在http请求创建的时候同步创建的，http请求发送到服务器端，服务器端响应了之后，这个TCP连接就关闭了；HTTP/1.1中可以以某种方式声明这个连接一直保持，一个请求传输完之后，另一个请求可以接着传输。这样的好处是：在创建一个TCP连接的过程中需要“三次握手”的消耗，“三次握手”代表有三次网络传输。  

如果TCP连接保持，第二个请求发送就没有这“三次握手”的消耗。HTTP/2中同一个TCP连接里还可以并发地传输http请求。  
- TCP三次握手：一次TCP连接的过程中需要“三次握手”的消耗client发送一次请求询问
  ![三次握手](/assets/tcp3-way.gif)  
  why?为了防止服务器端开启一些无用的连接增加服务器开销以及防止已失效的连接请求报文段突然又传送到了服务端，因而产生错误。
- TCP四次挥手：TCP连接的释放(解除)。  
  ![四次挥手](/assets/tcp4-way.jpeg)
- 为什么“握手”是三次，“挥手”却要四次？
  请求建立连接的过程是一次请求，两次确认。请求释放连接多了一段准备时间，并不能立即释放，因此需要先发出确认收到的报文，然后在发出准备就绪的报文。
- 为什么客户端在TIME-WAIT阶段要等2MSL?
  为的是确认服务器端是否收到客户端发出的ACK确认报文。如果客户端在2MSL内，再次收到了来自服务器端的FIN报文，说明服务器端由于各种原因没有接收到客户端发出的ACK确认报文。客户端再次向服务器端发出ACK确认报文，计时器重置，重新开始2MSL的计时；

## HTTP/3
肝不太够用了……  
运行在 QUIC 之上的 HTTP 协议被称为 HTTP/3，这时就有小朋友问了“什么是QUIC呢？”，QUIC 是用来替代 TCP、SSL/TLS 的传输层协议。
![http/3](/assets/http:3.webp)
QUIC 丢掉了 TCP、TLS 的包袱，基于 UDP，并对 TCP、TLS、HTTP/2 的经验加以借鉴、改进，实现了一个安全高效可靠的 HTTP 通信协议。凭借着 0 RTT 建立连接、平滑的连接迁移、基本消除了队头阻塞、改进的拥塞控制和流量控制等优秀的特性，QUIC 在绝大多数场景下获得了比 HTTP/2 更好的效果。


